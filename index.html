<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width">
   <link rel="stylesheet" type="text/css" href="style/fxosstub.css"/>
   <script type="text/javascript" src="js/fxosstub.js"></script>
   <title>FxOS CandelStick</title>
       
       <script type="text/javascript">
           var data="3.49,3.48,3.5,3.45,3.48,3.48,3.49,3.5,3.44,3.45"
           /*
           20130125,3.48,3.47,3.48,3.44,3.46,58614641,202735231;
           20130124,3.5,3.5,3.54,3.46,3.48,97455417,341228109;
           20130123,3.5,3.49,3.51,3.48,3.5,58131425,203150078;
           20130122,3.56,3.56,3.56,3.48,3.5,129381928,455350986;
           20130121,3.59,3.57,3.59,3.54,3.56,108725911,387038595;
           20130118,3.54,3.54,3.59,3.52,3.59,107275749,382017866;
           20130117,3.53,3.53,3.57,3.51,3.54,63500932,224664501;
           20130116,3.56,3.56,3.58,3.5,3.53,102092255,361864195;
           20130115,3.53,3.54,3.58,3.52,3.56,113073731,401073733;
           20130114,3.47,3.46,3.55,3.45,3.53,106103195,372380141;
           20130111,3.55,3.54,3.56,3.44,3.47,111233376,387794535;
           20130110,3.57,3.55,3.6,3.52,3.55,102539075,363984989;
           20130109,3.5,3.49,3.62,3.47,3.57,162779509,578106756;
           20130108,3.51,3.5,3.51,3.47,3.5,74951052,261739622;
           20130107,3.49,3.49,3.53,3.48,3.51,59405321,208268856;
           20130104,3.5,3.53,3.54,3.47,3.49,128981591,452150886;
           20121231,3.47,3.47,3.52,3.44,3.5,126831129,442016507;
           20121228,3.45,3.46,3.47,3.42,3.47,86942014,299577111;
           20121227,3.48,3.49,3.5,3.44,3.45,99659294,344928446;
           20121226,3.49,3.48,3.5,3.45,3.48,64865152,224925273
            */
           function processOchl(open,close,high,low)
           {
             var hmax = Math.max(open,close)
             var hmin = Math.min(open,close)
            var height = hmax-hmin
            var h1 = high-hmax
            var h2 = hmin-low
            
           }
           function drawCandle(ctx,x,y,w,h,h1,h2,color,color1)
           {
               ctx.fillStyle = color;
               ctx.fillRect (x, y, w, h);
               ctx.beginPath();
               ctx.strokeStyle=color1;
               ctx.lineWidth=2;
               ctx.moveTo(x+w/2,y);
               ctx.lineTo(x+w/2,y-h1);
                ctx.closePath()
               ctx.stroke();
               
               ctx.beginPath();
               ctx.strokeStyle=color1;
               ctx.lineWidth=2;
               ctx.moveTo(x+w/2,y+h);
               ctx.lineTo(x+w/2,y+h+h2);
               ctx.closePath();
               ctx.stroke();
               
               
           }
           function drawRetangle( ctx, x,y,w,h,color)
           {
               ctx.fillStyle = color;
               ctx.fillRect (x, y, w, h);

           }
           function drawold() {
               var canvas = document.getElementById('canvas');
               if (canvas.getContext) {
                   var ctx = canvas.getContext("2d");
                   
                   ctx.fillStyle = "rgb(255,0,0)";
                   ctx.fillRect (10, 10, 55, 50);
                   
                   ctx.fillStyle = "rgba(0, 0, 255, 0.5)";
                   ctx.fillRect (30, 30, 55, 50);
               }
           }
           function draw() {
               var canvas = document.getElementById('canvas');
               if (canvas.getContext) {
                    var ctx = canvas.getContext("2d");
                   //drawRetangle(ctx,10,10,10,20,"rgb(255,0,0)");
                     drawCandle(ctx,10,10,10,20,5,5,"#00cc00","#00cc00");
                   
                   drawCandle(ctx,20,10,10,20,5,5,"#cc0000","#cc0000");
                   
                   drawCandle(ctx,30,10,10,40,5,7,"#00cc00","#00cc00");
                   
                   processOchl(348,347,348,344)
                   
                     //drawRetangle(ctx,30,10,10,30,"rgb(0,255,0)")
                   
               }
           }
           </script>
       
</head>
<body >

   <header>
     <button id="btnMain"></button>
     <ul id="install-add">
        <li><button id="btnInstall">Install</button></li>
        <li><button id="btnAdd"></button></li>
     </ul>
     <h1>App Title</h1>
   </header>

   <div class="body">
       <!--
      <div class="textEntry">
         <textarea id="textContents" placeholder="Type it!"></textarea>
      </div>

        -->
       <canvas id="canvas" width="150" height="150"></canvas>
       
</div>

        <script type="text/javascript">
        //    confirm("hello");
            draw();
            </script>
   <!--
   <div id="glasspane">
      <div id="title">Glass Pane Title</div>
      <div id="msg">Message in the glass pane (for notifications, etc)</div>
   </div>
   -->

   <footer>
      <ul>
        <li><button>Write</button></li>
        <li><button>Read</button></li>
        <li><button id="send"></button></li>
      </ul>
   </footer>

</body>
</html>
